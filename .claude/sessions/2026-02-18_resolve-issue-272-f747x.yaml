date: 2026-02-18
branch: claude/resolve-issue-272-f747x
title: Add /internal/github-issues dashboard
model: sonnet-4
duration: ~1h (includes paranoid review pass + fixes)
pages: []
summary: Created a new internal dashboard at `/internal/github-issues` that shows live GitHub issue data — in-progress issues (with `claude-working` label) and a priority queue (top 20, ranked P0–P3 + age). Added nav entry under "Dashboards & Tools".
issues:
  - EXA_API_KEY was not wired into auto-update.yml — Exa would never run in CI
  - EXA_API_KEY captured at module load time in feed-fetcher.ts — fixed to read at call time
  - IssueRow type imported from page.tsx into issues-table.tsx (circular smell) — extracted to types.ts
  - sync:data/prebuild missing NODE_USE_ENV_PROXY=1 — added for consistency
  - auto-update/**/*.test.ts not in vitest.config.ts include list — fixed
  - "Conflict on rebase: remote added assign-ids script to sync:data/prebuild; merged both changes"
  - Gate check failed when run from app/ subdirectory (not a real bug, operator error)
learnings:
  - "Server components can use `next: { revalidate: 60 }` in fetch options for short-lived caching of live API data"
  - The `priorityLabel` field was initially included in the row type but was unused — removed in review
  - "`crux/vitest.config.ts` only includes specific directories — new test dirs must be added explicitly"
  - Always read env vars at call time, not module load time, to keep tests mockable
  - "Created GitHub issue #283 (GITHUB_TOKEN deployment) and #285 (pagination >100 issues)"
