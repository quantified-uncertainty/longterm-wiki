## 2026-02-18 | claude/issue-287-SwIR5 | Discord bot: add per-user rate limiting

**What was done:** Added per-user 30-second cooldown and a global concurrency cap (max 3 simultaneous requests) to the Discord bot's `MessageCreate` handler to prevent cost abuse.

**Pages:** (none â€” infrastructure-only change)

**Model:** sonnet-4

**Duration:** ~15min

**Issues encountered:**
- None

**Learnings/notes:**
- Rate limit timestamp is recorded only after passing all checks (empty question, rate limit, concurrency cap) so the slot is not consumed on rejected requests.
- `activeRequests` is decremented in a `finally` block to ensure it always decrements even on errors.
