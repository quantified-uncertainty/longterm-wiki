date: 2026-02-18
branch: claude/integrate-grokepedia-gKpMf
title: Integrate Grokipedia as external link platform
pages:
  - grokipedia
summary: "Added Grokipedia as a 9th external link platform with 79 verified page mappings. Full integration across data types, UI (InfoBox), CLI tooling (`crux grokipedia match`), content pipeline (canonical-links, source-fetching, scan-content, resource-utils), and verification scripts. Fixed shell injection vulnerabilities across codebase (execSync -> execFileSync). Added two new validation rules: `url-safety` (checks external-links.yaml URLs for shell metacharacters) and `no-exec-sync` (flags execSync with template literals in crux/ source). Removed 89 broken links via HEAD verification + 3 semantic mismatches."
issues:
  - DNS resolution blocked in this environment (`EAI_AGAIN`) for Node.js https; curl works as fallback
  - Title-based matching produced ~52% false positive rate (89/171 broken); curl HEAD verification was essential
  - "`conjecture` mapped to math concept instead of AI safety org; `mesa-optimization` and `chain-of-thought` mapped to parent topics"
  - Pre-existing execSync shell injection in page-improver validate.ts and pipeline.ts (fixed)
learnings:
  - Always verify Grokipedia links via HEAD requests; title-based matching is unreliable for niche topics
  - Use `execFileSync` (not `execSync`) when passing external data to shell commands to prevent injection
  - Added `url-safety` and `no-exec-sync` validation rules to catch regressions via `pnpm crux validate unified`
  - "Grokipedia URL pattern: `https://grokipedia.com/page/Article_Name` (Wikipedia-style slugs)"
  - "Created GitHub Issue #209 for future Option C: using Grokipedia as research source in content pipeline"
  - GitHub Actions CI won't run on PRs with merge conflicts â€” "Checks awaiting conflict resolution" means workflows are blocked until conflicts are resolved and a new push triggers them
