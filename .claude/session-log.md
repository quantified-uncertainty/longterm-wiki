# Session Log

Reverse-chronological log of Claude Code sessions on this repo. Each session appends a summary before its final commit. See `.claude/rules/session-logging.md` for the format.

## 2026-02-13 | claude/wiki-gap-analysis-l7Cp8 | Systematic wiki gap analysis

**What was done:** Ran `crux gaps list`, `crux gaps stats`, and manual topic coverage analysis across all 639 wiki pages. Identified 386 pages needing insight extraction (203 high-importance with zero insights). Produced a gap analysis report at `content/docs/internal/gap-analysis-2026-02.mdx`. Built a Suggested Pages dashboard (`app/internal/suggested-pages/`) with 100 ranked page suggestions in a single sortable DataTable, using numeric priority (1-98) based on mention frequency across existing pages (grep + EntityLink counts) and editorial importance. Data sourced from automated cross-reference analysis of all 628 wiki pages.

**Issues encountered:**
- pnpm install fails on puppeteer postinstall (known issue), `--ignore-scripts` workaround used
- `crux gaps` shows 0 pages when `pages.json` hasn't been built — must run `node app/scripts/build-data.mjs` first
- The gaps tool only finds under-extracted existing pages, not truly missing topics — manual analysis needed for coverage gaps
- Numbered lists starting at >1 without blank lines fail the markdown list formatting test

**Learnings/notes:**
- 93% of tracked pages (482/519) have zero insights — massive insight extraction backlog
- Responses category (136 pages, 3% insight coverage) and organizations (106 pages, 0%) are most under-extracted
- Biggest content gaps: Chinese AI labs (DeepSeek, Mistral), test-time compute, hallucination, prompt injection — all lack dedicated pages
- Only 2 incident pages exist despite many documented AI failures

---

## 2026-02-13 | claude/add-llm-warning-banner-aWFt0 | Add LLM warning banner to wiki pages

**What was done:** Added a dismissible warning banner to all wiki pages informing readers that content was written by an LLM with minimal human supervision. The banner uses localStorage to persist dismissal, so once closed it stays hidden across all pages.

**Issues encountered:**
- pnpm install fails on puppeteer postinstall (known issue), `--ignore-scripts` workaround used

**Learnings/notes:**
- Banner is a client component (`"use client"`) since it needs useState/useEffect for localStorage
- Placed between ContentMeta (breadcrumbs) and the article content in the wiki page layout
- Defaults to hidden on initial render to avoid flash, then shows after checking localStorage

---

## 2026-02-13 | claude/fix-sidebar-link-styles-2tINm | Fix InfoBox sidebar link styles

**What was done:** Updated the InfoBox "Related Entries" section to use `EntityLink` components instead of plain `Link` components, giving sidebar links the same background color styling and hover tooltip popups as main content links. Added `id` field to resolved related entries in the data layer, changed InfoBox Card from `overflow-hidden` to `overflow-visible` so tooltips aren't clipped, fixed `pluralize()` bugs ("analysises" → "analyses", "persons" → "people"), and tightened Related section spacing with a flex-wrap layout.

**Issues encountered:**
- pnpm install fails on puppeteer postinstall (known issue), `--ignore-scripts` workaround used

**Learnings/notes:**
- The InfoBox Card previously used `overflow-hidden` which would clip any absolutely-positioned tooltips; changed to `overflow-visible` with rounded header corners instead
- The `pluralize()` helper needed both a -sis → -ses rule and an irregular plurals map

---

## 2026-02-13 | claude/find-ai-revenue-pages-PEKvH | Investigate LLM crawlability of longtermwiki.com

**What was done:** Investigated why LLMs can't find longtermwiki.com pages via web search. Found the site already has comprehensive llms.txt infrastructure (llms.txt, llms-core.txt, llms-full.txt, per-page .txt files) generated by build-data.mjs. Added `LLMs-Txt` directive to robots.txt. Identified relevant AI revenue pages (ai-revenue-sources, projecting-compute-spending, anthropic-valuation, economic-disruption, etc.). Root cause is likely low domain authority/backlinks rather than technical SEO issues.

**Issues encountered:**
- pnpm install fails on puppeteer postinstall (network issue), but `--ignore-scripts` works fine
- build-data.mjs must be run from app/ directory (uses process.cwd() for path resolution)

**Learnings/notes:**
- The llms.txt system is already well-implemented — files are generated during build and served from public/
- llms*.txt files are gitignored (generated at build time), which is correct since Vercel runs build-data.mjs
- The site's main discoverability issue is search engine indexing, not technical configuration — recommend submitting sitemap to Google Search Console and Bing Webmaster Tools

---

## 2026-02-13 | claude/session-logging-tracking-d4d6K | Add session logging system

**What was done:** Created a session logging and common-issues tracking system. Added `.claude/rules/session-logging.md` (instructs each session to log a summary), `.claude/session-log.md` (the log itself), and `.claude/common-issues.md` (recurring issues and solutions seeded from CLAUDE.md knowledge).

**Issues encountered:**
- None

**Learnings/notes:**
- Hook-based logging (SessionStart/SessionEnd) captures metadata but not what actually happened. Rule-based self-logging is more useful for understanding session outcomes.
- The `.claude/rules/` directory is read automatically by Claude Code — no settings.json needed for rules.

---
